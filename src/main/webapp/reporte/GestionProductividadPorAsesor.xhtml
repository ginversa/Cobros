<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">

    <ui:define name="head">
        <h:outputStylesheet name="css/flags/flags.css" library="demo" />
    </ui:define>

    <ui:define name="title">Reporte</ui:define>

    <ui:define name="viewname">
        <li>Reportes</li>
        <li>/</li>
        <li>Gestiones productividad por asesor</li>
    </ui:define>

    <ui:param name="viewname" value="Gestiones productividad por asesor" />

    <ui:define name="content">
        <h:form id="form">
            <div class="p-grid table-demo">
                <div class="p-col-12">
                    <p:growl id="messages" showDetail="true" showSummary="true" severity="info,fatal" >
                        <p:autoUpdate/>
                    </p:growl> 
                    <div class="card">
                        <h4>Gestiones productividad por asesor</h4>

                        <p:fieldset legend="Filtros">                            
                            <h:panelGrid id="idPGGPPH" columns="3">
                                <p:outputLabel for="txtFecha" value="Fecha" />
                                <p:calendar id="txtFecha" value="#{gestionProductividadPorAsesorController.fecha}" required="true" requiredMessage="Fecha requerida!" pattern="dd/MM/yyyy"/>                                
                                <p:message for="txtFecha"/>
                                <p:column/>
                                <p:commandButton id="idBuscar" value="Buscar" icon="pi pi-check" actionListener="#{gestionProductividadPorAsesorController.buscar()}" update="form:txtFecha, form:idDTGestionesProductividad" />
                                <p:column/>
                            </h:panelGrid>
                        </p:fieldset>

                        <p:dataTable id="idDTGestionesProductividad" widgetVar="idDTGestionesProductividad" var="gestion" value="#{gestionProductividadPorAsesorController.gestionList}"
                                     paginator="true" rows="20" paginatorPosition="top"
                                     reflow="true" scrollable="true" scrollHeight="1050"
                                     styleClass="ui-datatable-striped ui-datatable-sm ui-datatable-gridlines"
                                     emptyMessage="No se encontraron registros." >

                            <p:column headerText="Nombre cartera" filterBy="#{gestion.nombrecartera}" filterMatchMode="contains" sortBy="#{gestion.nombrecartera}" >                                
                                <h:outputText value="#{gestion.nombrecartera}" />
                            </p:column>
                            <p:column headerText="Usuario" filterBy="#{gestion.usuario}" filterMatchMode="contains" sortBy="#{gestion.usuario}" >
                                <h:outputText value="#{gestion.usuario}" />
                            </p:column>
                            <p:column headerText="Fecha GestiÃ³n" filterBy="#{gestion.fechaGestion}" filterMatchMode="contains" sortBy="#{gestion.fechaGestion}" >
                                <h:outputText value="#{gestion.fechaGestion}">
                                    <f:convertNumber type="number" locale="en-US" maxFractionDigits="2" groupingUsed="true"/>
                                </h:outputText>
                            </p:column>                            
                            <p:column headerText="Agestes" filterBy="#{gestion.agentes}" filterMatchMode="contains" sortBy="#{gestion.agentes}" >
                                <h:outputText value="#{gestion.agentes}">
                                    <f:convertNumber type="number" locale="en-US" maxFractionDigits="2" groupingUsed="true"/>
                                </h:outputText>
                            </p:column>                            
                            <p:column headerText="workload" filterBy="#{gestion.workload}" filterMatchMode="contains" sortBy="#{gestion.workload}" >
                                <h:outputText value="#{gestion.workload}">
                                    <f:convertNumber type="number" locale="en-US" maxFractionDigits="2" groupingUsed="true"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="rpc" filterBy="#{gestion.rpc}" filterMatchMode="contains" sortBy="#{gestion.rpc}" >
                                <h:outputText value="#{gestion.rpc}">
                                    <f:convertNumber type="number" locale="en-US" maxFractionDigits="2" groupingUsed="true"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="por_RPC" filterBy="#{gestion.por_RPC}" filterMatchMode="contains" sortBy="#{gestion.por_RPC}" >
                                <h:outputText value="#{gestion.por_RPC}">
                                    <f:convertNumber type="number" locale="en-US" maxFractionDigits="2" groupingUsed="true"/>
                                </h:outputText>
                            </p:column>                            
                            <p:column headerText="pdp" filterBy="#{gestion.pdp}" filterMatchMode="contains" sortBy="#{gestion.pdp}" >
                                <h:outputText value="#{gestion.pdp}">
                                    <f:convertNumber type="number" locale="en-US" maxFractionDigits="2" groupingUsed="true"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="por_PDP" filterBy="#{gestion.por_PDP}" filterMatchMode="contains" sortBy="#{gestion.por_PDP}" >
                                <h:outputText value="#{gestion.por_PDP}">
                                    <f:convertNumber type="number" locale="en-US" maxFractionDigits="2" groupingUsed="true"/>
                                </h:outputText>
                            </p:column>
                            <p:column headerText="valorworkload" filterBy="#{gestion.valorworkload}" filterMatchMode="contains" sortBy="#{gestion.valorworkload}" >
                                <h:outputText value="#{gestion.valorworkload}">
                                    <f:convertNumber type="number" locale="en-US" maxFractionDigits="2" groupingUsed="true"/>
                                </h:outputText>
                            </p:column>                            
                            <p:column headerText="valor_pdp" filterBy="#{gestion.valor_pdp}" filterMatchMode="contains" sortBy="#{gestion.valor_pdp}" >
                                <h:outputText value="#{gestion.valor_pdp}">
                                    <f:convertNumber type="number" locale="en-US" maxFractionDigits="2" groupingUsed="true"/>
                                </h:outputText>
                            </p:column>                            
                            <p:column headerText="CCP" filterBy="#{gestion.CCP}" filterMatchMode="contains" sortBy="#{gestion.CCP}" >
                                <h:outputText value="#{gestion.CCP}">
                                    <f:convertNumber type="number" locale="en-US" maxFractionDigits="2" groupingUsed="true"/>
                                </h:outputText>
                            </p:column>
                        </p:dataTable>
                    </div>
                </div>
            </div>
        </h:form>

    </ui:define>

</ui:composition>